import{a as g,t as n,v as w,V as p,o as V,d as E,e as I,w as l,p as t,x as c,y as u,z as y,A as v,B as x,C as A,E as D,F as T}from"./vendor.js";import{U as b}from"./index.js";const U=["src"],h=u("div",{class:"text-h6 q-mt-md"},"Login",-1),C={class:"q-mt-md"},N={__name:"LoginPageOld",setup(P){g();const m=n({email:"",password:""}),r=n({...m.value}),o=n({}),d=n(!0);w(()=>p.get("VITE_AUTH"));const i=(a={})=>{for(const e in m.value)a[e]?o.value[e]=a[e][0]:o.value[e]=null},_=()=>{b.loginFromVue(r.value).then(a=>{const e=a.response.data.data,s=new Date;s.setDate(s.getDate()+7),e.expireDate=s.toISOString(),p.set("VITE_AUTH",e,"7d"),i(),window.location.href="/vue-app/#/dashboard",window.location.reload()}).catch(a=>{if(a.response&&a.response.data.errors){const e=a.response.data.errors;i(e)}})},f=n({VITE_API_CURRENT_DOMAIN:"http://art-in-voyage-local.test",VITE_API_AIVTEAMS_DOMAIN:"http://2024-08-battery-be.test",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0});return V(()=>{i()}),(a,e)=>(E(),I(T,{class:"q-pa-md flex flex-center"},{default:l(()=>[t(D,{class:"q-px-md q-py-lg"},{default:l(()=>[t(c,{class:"text-center"},{default:l(()=>[u("img",{src:f.value.VITE_API_CURRENT_DOMAIN+"/wp-content/themes/omni/images/GRATITUDEBLUE(2).png",alt:"Logo",style:{"max-width":"150px"}},null,8,U),h]),_:1}),t(c,null,{default:l(()=>[t(y,{onSubmit:_,class:"q-gutter-md"},{default:l(()=>[t(v,{filled:"",modelValue:r.value.email,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value.email=s),label:"Email*",type:"email",error:!!o.value.email,"error-message":o.value.email},null,8,["modelValue","error","error-message"]),t(v,{filled:"",modelValue:r.value.password,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value.password=s),label:"Password*",type:d.value?"password":"text",error:!!o.value.password,"error-message":o.value.password},{append:l(()=>[t(x,{name:d.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=s=>d.value=!d.value)},null,8,["name"])]),_:1},8,["modelValue","type","error","error-message"]),u("div",C,[t(A,{label:"Login",type:"submit",class:"full-width",style:{backgroundColor:"#0d3555",color:"white"}})])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{N as default};
