const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/EventImage.js","js/vendor.js","css/vendor.css","js/index.js","css/index.css","js/EventButtonAttend.js","js/SuperTable.js"])))=>i.map(i=>d[i]);
import{ah as v,r as R,e as x,d as g,X as T,z as E,x as C,T as L}from"./vendor.js";import{_ as P,E as k,a as D}from"./index.js";import{S as O}from"./SuperRecord.js";import"./SuperTable.js";import"./CreateEditForm.js";const I={name:"Event-read",components:{SuperRecord:O},computed:{superRecordModel(){return k}},methods:{formatCasualTime(e,m){const s=v(),n=v(e),o=v(m),r=n.format("HH:mm"),a=o.format("HH:mm"),l=n.format("ddd"),f=o.format("ddd"),$=n.format("MMM Do"),p=o.format("MMM Do"),S=n.year(),w=o.year(),h=o.diff(n,"minutes"),_=h/60,y=_/24,b=y/7;let c;if(h<60){const t=Math.round(h/30)*.5;c=`~${t} minute${t!==1?"s":""}`}else if(_<24){const t=Math.round(_*2)/2;c=`~${t} hour${t!==1?"s":""}`}else if(y<7){const t=Math.round(y*2)/2;c=`~${t} day${t!==1?"s":""}`}else{const t=Math.round(b*2)/2;c=`~${t} week${t!==1?"s":""}`}const H=n.isBefore(s.clone().add(6,"days"));let u="";n.isSame(o,"day")?u=n.isSame(s,"day")?`Today, ${r} - ${a}`:`${l}, ${r} - ${a}`:H?u=`${l}, ${r} - ${f}, ${a}`:n.isSame(o,"month")?u=`${$}, ${l}, ${r} - ${p}, ${f}, ${a}`:n.isSame(o,"year")?u=`${$}, ${l}, ${r} - ${p}, ${f}, ${w}, ${a}`:u=`${$}, ${l}, ${S}, ${r} - ${p}, ${f}, ${w}, ${a}`;const i=n.diff(s,"minutes"),M=o.diff(s,"minutes");let d="";if(M<0)d="Event has finished";else if(i<=0&&M>=0)d="Event is happening now";else if(i<60){const t=Math.round(i/30)*.5;d=`~${t} minute${t!==1?"s":""} from now`}else if(i<1440){const t=Math.round(i/60*2)/2;d=`~${t} hour${t!==1?"s":""} from now`}else if(i<10080){const t=Math.round(i/1440*2)/2;d=`~${t} day${t!==1?"s":""} from now`}else if(i<43800){const t=Math.round(i/10080*2)/2;d=`~${t} week${t!==1?"s":""} from now`}else{const t=Math.round(i/43800*2)/2;d=`~${t} month${t!==1?"s":""} from now`}return{range:u,duration:c,comingUpHint:d}}},data(){return{templateListGrid:{cols:[{width:3,dataPoint:{type:"component",componentPath:()=>D(()=>import("./EventImage.js"),__vite__mapDeps([0,1,2,3,4])),label:"",hideLabel:!0}},{width:12,class:"q-pa-md q-col-gutter-sm",cols:[{width:12,dataPoint:{type:"function",function:e=>`${e.name}`,label:"",tag:"div",class:"text-h6",hideLabel:!0}},{width:3,dataPoint:{type:"function",function:e=>`${this.formatCasualTime(e.start_datetime,e.end_datetime).comingUpHint}`,label:"Count Down",xOrientation:!0}},{width:3,dataPoint:{type:"function",function:e=>`${this.formatCasualTime(e.start_datetime,e.end_datetime).range}`,label:"Date",xOrientation:!0}},{width:3,dataPoint:{type:"function",function:e=>`${this.formatCasualTime(e.start_datetime,e.end_datetime).duration}`,label:"Duration",xOrientation:!0}},{width:3,dataPoint:{label:"School",field:"school",xOrientation:!0}},{width:3,dataPoint:{style:"text-align: left;",type:"component",componentPath:()=>D(()=>import("./EventButtonAttend.js"),__vite__mapDeps([5,1,2,3,4,6])),label:"",class:"text-right ",hideLabel:!0}},{width:12,dataPoint:{hideLabel:!0,field:"actions"}}]}]}}}};function U(e,m,s,n,o,r){const a=R("SuperRecord");return x(),g(a,{model:r.superRecordModel,id:+e.$route.params.rId,displayMapField:!0,onInitialLoadHappened:m[0]||(m[0]=l=>e.$emit("initialLoadHappened")),templateOverview:o.templateListGrid,hideRelations:""},null,8,["model","id","templateOverview"])}const W=P(I,[["render",U],["__file","EventRead.vue"]]),B={name:"Event-read-controller",components:{eventRead:W},data(){return{id:+this.$route.params.rId}}};function N(e,m,s,n,o,r){const a=R("eventRead");return x(),T("div",null,[E(L,{class:"q-mb-md",style:{overflow:"hidden"}},{default:C(()=>[E(a,{id:o.id},null,8,["id"])]),_:1})])}const F=P(B,[["render",N],["__file","EventReadController.vue"]]);export{F as default};
